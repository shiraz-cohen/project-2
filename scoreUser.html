<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="scoreUser.css">
    <link rel="stylesheet" href="header_style.css">
</head>

<body onload="memoryTables()">
    <header onload="logIn()">
        <p id="user"></p>

        <nav id="navigation_login">
            <a id="logIn1" href="login.html" class="button_login">כניסת משתמשים</a>
            <a id="logIn2" href="joining.html" class="button_login">להצטרפות</a>
            <a id="logOut" onclick="logOut()" href="home.html" class="hide">התנתק</a>
            <a id="score" href="scoreUser.html" class="hide">טבלת שיאים</a>
        </nav>

        <nav id="navigation">
            <a href="memory.html" class="button">משחקי זיכרון</a>
            <a href="speed.html" class="button">משחקי מהירות</a>
            <a href="edoucation.html" class="button">משחקים לימודיים</a>
            <a href="home.html"><img class="logo" src="image.\img-logo.png"></a>
            <a href="mind.html" class="button">משחקי חשיבה</a>
            <a href="sport.html" class="button">משחקי ספורט</a>
            <a href="young.html" class="button">משחקים לצעירים</a>
        </nav>
    </header>

    <div id="div_score">
        <div name="memoryRecords">
            <h1>משחק הזיכרון</h1>

            <h2 id="userRecoedsTable">טבלת שיאים </h2>
            <table>
                <thead>
                    <tr>
                        <th>מקום</th>
                        <th>השיא</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="num">1</td>
                        <td id="userTimeRecord1"></td>
                    </tr>

                    <tr>
                        <td id="num">2</td>
                        <td id="userTimeRecord2"></td>
                    </tr>

                    <tr>
                        <td id="num">3</td>
                        <td id="userTimeRecord3"></td>
                    </tr>
                </tbody>
            </table>

            <h2>טבלת שיאים </h2>
            <table>
                <thead>
                    <tr>
                        <th>מקום</th>
                        <th>שם משתמש </th>
                        <th>השיא</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="num">1</td>
                        <td id="userName1"></td>
                        <td id="timeRecord1"></td>
                    </tr>

                    <tr>
                        <td id="num">2</td>
                        <td id="userName2"></td>
                        <td id="timeRecord2"></td>
                    </tr>

                    <tr>
                        <td id="num">3</td>
                        <td id="userName3"></td>
                        <td id="timeRecord3"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        var records = [];
        var userNameKey;
        var timeUser;

        function memoryTables() {
                        var nameNow=localStorage.getItem("userNow");
            document.getElementById("userRecoedsTable").innerHTML = "טבלת השיאים של  " + nameNow;
            document.getElementById("userTimeRecord1").innerHTML =JSON.parse(localStorage.getItem(nameNow)).memoryTime[0];
            document.getElementById("userTimeRecord2").innerHTML =JSON.parse(localStorage.getItem(nameNow)).memoryTime[1];
            document.getElementById("userTimeRecord3").innerHTML =JSON.parse(localStorage.getItem(nameNow)).memoryTime[2];

            for (i = 0; i < localStorage.length; i++) {
                if (localStorage.key(i) != "userNow") {
                    userNameKey = localStorage.key(i);
                    timeUser = JSON.parse(localStorage.getItem(userNameKey)).memoryTime[0];
                    if (timeUser != null) {
                        records.push([userNameKey, timeUser]);
                    }
                }
            }
            records.sort(function (a, b) { return a[1] - b[1] });
            console.log(records);

            document.getElementById("userName1").innerHTML = records[0][0];
            document.getElementById("timeRecord1").innerHTML = records[0][1];

            document.getElementById("userName2").innerHTML = records[1][0];
            document.getElementById("timeRecord2").innerHTML = records[1][1];

            document.getElementById("userName3").innerHTML = records[2][0];
            document.getElementById("timeRecord3").innerHTML = records[2][1];
        }

    </script>

    <script src="header.js"></script>


</body>